
<div class="card">
  <div *ngIf="this.invoices" class="card-header ">
    <div class="row">
      <div class="col"><h3>{{title}}</h3></div>
      <div class="col col-auto">
        <button (click)="onExport()" class="btn btn-outline-success align-content-end">
          <span class="fa fa-table"></span>
          Exporter
        </button>
      </div>
    </div>
  </div>
  <div class="card-body">
    <table class="table table-striped  table-bordered table-hover " id="invoiceTable">
      <thead>
      <tr class="text-center">
        <th style="width: 5%">
          <form [formGroup]="formGroup">
            <input (keyup)="onSearch()" [formControlName]="'number'" [placeholder]="'N° facture'" class="form-control"
                   type="text">
          </form>
        </th>
        <th style="width: 15%">
          <form [formGroup]="formGroup">
            <input (keyup)="onSearch()" [formControlName]="'shortName'" [placeholder]="'Client'" class="form-control"
                   type="text">
          </form>
        </th>
        <th style="width: 15%">
          <form [formGroup]="formGroup">
            <input (keyup)="onSearch()" [formControlName]="'date'" [placeholder]="'date facture'" class="form-control"
                   type="text">
          </form>
        </th>
        <th style="width: 15%"></th>
        <th style="width: 5%"></th>
        <th style="width: 15%"></th>
      </tr>
      </thead>

      <thead>
      <tr class="text-center">
        <th style="width: 5%">N° Facture</th>
        <th style="width: 20%">Client</th>
        <th style="width: 15%">Date facture</th>
        <th style="width: 15%">Montant HT</th>
        <th style="width: 15%">Montant TVA</th>
        <th style="width: 15%">Montant TTC</th>
        <th style="width: 15%">Rest à encaisser</th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let a of this.invoices ;let i=index ">
        <td style="text-align: center"> {{a.number}}</td>
        <td> {{a.customer.shortName}}</td>
        <td> {{a.date |date:"dd/MM/yyyy"}}</td>
        <td align="right"> {{a.amountExcludingTax| number:".2"}}</td>
        <td align="right"> {{a.amountTax| number:".2"}}</td>
        <td align="right"> {{a.amountIncludingTax| number:".2"}}</td>
        <td align="right"> {{a.remains| number:".2"}}</td>
      </tr>
      </tbody>
    </table>
  </div>
  <div class="card-footer">
    <div class="row">
      <div class="col col-4"><h4>{{nbInvoice}}&nbsp;Factures</h4></div>
      <div class="col col-4"> <h4>Total HT: &nbsp;  <strong> {{totalHT| number:".2"}}</strong>&nbsp;DA</h4></div>
      <div class="col col-4"> <h4>Total TTC : &nbsp; <strong>{{totalTTC| number:".2"}}</strong> &nbsp; DA</h4></div>
    </div>

  </div>
</div>

