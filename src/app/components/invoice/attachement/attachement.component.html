<div class="card">
  <div  class="row m-2  round1">

    <div class="col m-2"><h3>{{title}}</h3></div>
<!--    <div class="col col-auto m-2">-->
<!--      <button (click)="openExportList()" class="btn btn-outline-success align-content-end">-->
<!--        <span class="fa fa-table"></span>-->
<!--      </button>-->
<!--    </div>-->
<!--    <div class="col col-auto m-2">-->
<!--      <button (click)="openPrintList()" class="btn btn-outline-success align-content-end">-->
<!--        <span class="fa fa-print"></span>-->
<!--      </button>-->
<!--    </div>-->
    <div class="col col-auto m-2">
      <button (click)="openModal(sessionModal)" class="btn btn-outline-success align-content-end">
        <span class="fa fa-plus"></span>
      </button>
    </div>
    <div class="col col-auto m-2">
      <button (click)="onRetour()" class="btn btn-outline-success align-content-end">
        <span class="fa fa-arrow-left"></span>
      </button>
    </div>
  </div>

  <div class="card-header m-2">
    <div class="row m-2 round1">
      <div class="row  m-2 ">
        <div class="col col-1 text-end">Formation :</div>
        <div class="col col-7" *ngIf="session">{{session.name}}  </div>
      </div>
    </div>




  </div>


  <div class="card-body">
    <table class="table  table-bordered table-hover" id="listeTable">

      <thead>
      <tr class="text-center">
        <th style="width: 2%">N°</th>
        <th style="width: 15%">Nom</th>
        <th style="width: 15%">Prénom</th>
        <th style="width: 15%">Client</th>

      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let a of this.invoiceDetails ;let i=index ">
        <td style="text-align: center"> {{i}}</td>
        <td> {{a.inscription.stagiaire.familyName}}</td>
        <td> {{a.inscription.stagiaire.firstName}}</td>
        <td> {{a.inscription.stagiaire.customer.shortName}}</td>
        <td>
          <table class="table">
            <thead>
            <th style="width: 50%">Prestation</th>
            <th style="width: 15%">Qte</th>
            <th style="width: 15%">Prix</th>
            <th style="width: 20%">Obs</th>
            </thead>
             <tr>
               <td>Formation</td>
               <td>5</td>
               <td>5000</td>
               <td>11</td>
               <td>
                 <div class="container">
                   <button (click)="onDelete(a)" class="btn btn-outline-success btn-sm"  title="Supprimer ">
                     <span class="fa fa-pencil"> </span>

                   </button>
                 </div>
               </td>
               <td>
                 <div class="container">
                   <button (click)="onDelete(a)" class="btn btn-outline-success btn-sm"  title="Supprimer ">
                     <span class="fa fa-trash-o "> </span>

                   </button>
                 </div>
               </td>
             </tr>


          </table>
        </td>
        <td>
          <div class="container">
            <button (click)="onDetail(a)" class="btn btn-outline-success">
              <span class="fa fa-plus"> </span>
            </button>
          </div>
        </td>

      </tr>
      </tbody>
    </table>
  </div>
  <div class="card-header">
    <!--    Total : <strong>{{totalEntreprise}}</strong> &nbsp;Enregistrements-->
  </div>

</div>


<ng-template #sessionModal let-modal>
  <div class="modal-header">
    <h4 class="modal-title" id="strictureModal">Session de formation </h4>
    <button (click)="modal.dismiss('Cross click')" aria-label="Close" class="btn-close" type="button"></button>
  </div>
  <div class="modal-body">
    <table class="table table-striped  table-bordered table-hover">
      <thead>
      <tr class="text-center">
        <th style="width: 5%"></th>
        <th style="width: 15%">
          <form [formGroup]="fg1">
            <input (keyup)="onSearchSession()" [formControlName]="'name'" [placeholder]="'Lib Session'"
                   class="form-control"
                   type="text">
          </form>
        </th>
        <th style="width: 20%">
          <form [formGroup]="fg1">
            <input (keyup)="onSearchSession()" [formControlName]="'theme'" [placeholder]="'thème'" class="form-control"
                   type="text">
          </form>

        <th style="width: 20%">
          <form [formGroup]="fg1">
            <input (keyup)="onSearchSession()" [formControlName]="'dd'" [placeholder]="'date debut'"
                   class="form-control"
                   type="text">
          </form>
        </th>
        <th style="width: 15%"></th>
      </tr>
      </thead>
      <thead>
      <tr class="text-center">
        <th style="width: 20%">Libellé</th>
        <th style="width: 30%">Thème</th>
        <th style="width: 10%">Date debut</th>
        <th style="width: 40%">Prestation</th>

      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let a of this.sessions ;let i=index ">

        <td> {{a.session.name}}</td>
        <td> {{a.session.action.name}}</td>
        <td> {{a.session.startDate|date:"dd/MM/YYYY"}}</td>
        <td>
        <form [formGroup]="a.fg">
          <ng-multiselect-dropdown
            [settings]="dropdownSettings"
            [data]="dropdownList"
            formControlName="benefits"


          >

          </ng-multiselect-dropdown>
          </form>
        </td>


        <td>
          <div class="container">
            <button (click)="modal.close(a)" class="btn btn-outline-dark" type="button">
              <span class="fa fa-check-square"></span>
            </button>
          </div>
        </td>

      </tr>
      </tbody>
    </table>
  </div>
  <div class="modal-footer">
  </div>
</ng-template>


